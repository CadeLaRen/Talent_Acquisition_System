<!DOCTYPE html>
<!--
The start page of our website. It includes a "welcome" animation along with the
brain and brain parts with instructions for new user. This page must be visited just
once for everytime a user logs in, rest of the linking will be handled by home.html
-->
<html>
    <head>
        <title>TAS</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="scripts/jquery.js"></script>
        <script src="scripts/materialize.js"></script>
        <link type="text/css" rel="stylesheet" href="styles/materialize.css" />

        <script src="scripts/animation.js"></script>
        <link type="text/css" rel="stylesheet" href="styles/display.css" />
        <link rel="shortcut icon" href="favicon.ico">

        <script>
            $(document).ready(function () {

                $('.welcome').delay('fast').fadeIn('slow'); //fadeIn the logo
                $('.welcome').delay('slow').fadeOut('slow'); //fadeOut the welcome text
                $('.rest').delay(2000).slideDown(1000); //slide down the brain section

                /* this code creates the brain explode animation */
                $('#brain').click(function () {
                    $(this).closest('div').delay('fast').fadeOut();
                    $(this).closest('.mainBrain').find('.brainParts').delay('slow').fadeIn('slow');
                    $('#clickBrain2').delay(4000).fadeOut('slow');
                });
                /* this is the code associated with popping up login form and futher animations in same */
                $('.loginBtn').click(function () {
                    $('.lrform').fadeToggle();
                });
                $('#close').click(function () {
                    $('.lrform').fadeOut();
                });
                $('#logreg').click(function () {
                    $(this).closest('.card').find('.login').slideToggle();
                    $(this).closest('.card').find('.register').slideToggle();
                    var l = $(this).text();
                    if (l == "Register") {
                        $(this).text("Login");
                    } else {
                        $(this).text("Register");
                    }
                });
                $('form').on('submit', function (e) {
                    e.preventDefault();
                    $.ajax({
                        type: "POST",
                        cache: false,
                        url: $(this).attr('action'),
                        data: $(this).serialize(),
                        success: function (data) {
                            if (data === 1) {
                                alert('Not Registered');
                            } else if (data === 2) {
                                alert('Incorrect Password');
                            } else {
                                location.href='profile.php';
                            }
                        }
                    });
                });
            });
        </script>
    </head>


    <body>
        <style>
            .welcome {
                margin-top:15%;
                text-align: center;
                font-weight:bold;
                font-size:3em;
                font-family:"Comic Sans MS", cursive, sans-serif;
            }

            .lrform {
                z-index: 10;
                position: fixed;
                bottom: 50px;
                right:0px;
                width:50%;
            }
        </style>
        <div class="welcome hidden">
            <span >Welcome<br> To Talent Acquisition System</span>                
        </div>

        <!-- Form code Start -->
        <div class="lrform hidden" >
            <div class="container">
                <div class = 'row'>
                    <div class = "card" style="box-shadow: 0px 0px 0px 2000px rgba(0,0,0,0.3);">
                        <!--Login Form -->
                        <form action="logProcessing.php" method="post"  class = "login col s12" >
                            <div class = "row">
                                <div class = "input-field col s5">
                                    <input name = "l_email" type = "email" class = "validate" required autofocus>
                                    <label for = "l_email">Email</label>
                                </div>
                                <div class = "input-field col s5">
                                    <input name = "l_pwd" type = "password" class = "validate" required >
                                    <label for = "l_pwd">Password</label>
                                </div>
                                <div class = "input-field col s2">
                                    <button type="submit" class="btn-floating btn-large red" style="float:right;"><i class="send_white"></i></button>
                                </div>
                            </div>
                        </form>

                        <!-- Registration Form -->
                        <form action="regProcessing.php" method="post"  class = "col s12 register hidden" >
                            <div class="row">
                                <div class="input-field col s6">
                                    <input name="first_name" type="text" class="validate" required autofocus>
                                    <label for="first_name">First Name</label>
                                </div>
                                <div class="input-field col s6">
                                    <input name="last_name" type="text" class="validate" required >
                                    <label for="last_name">Last Name</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <input name="password" type="password" class="validate" required >
                                    <label for="password">Password</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s10">
                                    <input name="email" type="email" class="validate" required  >
                                    <label for="email">Email</label>
                                </div>
                                <div class = "input-field col s2">
                                    <button type="submit" class="btn-floating btn-large red" style="float:right;">
                                        <i class="send_white"></i>
                                    </button>
                                </div>
                            </div>  
                        </form>

                        <!-- Link to switch between login and register -->
                        <div class="card-action">
                            <a href="#" id="logreg">Register</a>
                            <a href="#" id="close" >Close</a>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <!-- End of form code -->


        <!-- This markup contains images of Brain and Brain Parts -->
        <div class="rest  hidden">
            <div class="mainBrain">

                <!-- Whole Brain Section -->
                <div class="container">
                    <img id="brain" src="images/Brain.png" style="cursor:zoom-in;">
                    <img id="clickBrain" src="images/clickBrain.png" style="float:right;">

                    <!-- Button at the bottom right for Login/Registration--> 
                    <div class="go-btn" style="position: fixed; bottom: 20px; right: 20px;">
                        <a class="waves-effect waves-light btn-large loginBtn">Login / Signup</a>
                    </div>
                    <!--Button End -->

                    <!-- Button at the bottom right for Help--> 
                    <div class="go-btn" style="position: fixed; bottom: 20px; left: 20px;">
                        <a class="waves-effect waves-light btn-large ">Help</a>
                    </div>
                    <!--Button End -->
                </div>

                <!-- Brain Parts Section -->
                <div class="hidden brainParts">
                    <a href="aboutTest.html" style="float:right; right:200px;" class="tooltipped" data-position="right" data-delay="50" data-tooltip="About MBTI Test, how and why it matters">
                        <img src="images/yellowBrain.png" style="position:absolute;top:20px;left:200px;" alt="About MBTI Test">
                    </a>        
                    <a href="instructions.html" style="float:right; right:200px;" class="tooltipped" data-position="right" data-delay="50" data-tooltip="Instructions on how to take the test">
                        <img src="images/redBrain.png" style="position:absolute;top:25px;left:500px;" alt="Instructions">
                    </a>
                    <a href=""  style="float:right; right:200px;" class="tooltipped" data-position="right" data-delay="50" data-tooltip="Under Development">
                        <img src="images/greenBrain.png" style="position:absolute;top:300px;left:300px;" alt="Upcoming">
                    </a>        
                    <a href="personality.html"  style="float:right; right:200px;" class="tooltipped" data-position="right" data-delay="50" data-tooltip="Check out various profiles here.">
                        <img src="images/blueBrain.png" style="position:absolute;top:200px;left:700px;" alt="Personality Profiles">
                    </a>
                    <a href="test.html"  style="float:right; right:200px;" class="tooltipped" data-position="right" data-delay="50" data-tooltip="Start the Test here and now!">
                        <img src="images/medullaBrain.png" style="position:absolute;top:450px;left:450px;" alt="Test">
                    </a>
                    <img id="clickBrain2" src="images/clickBrain2.png" style="float:right;">

                    <!-- Button at the bottom right for Login/Registration--> 
                    <div class="go-btn" style="position: fixed; bottom: 20px; right: 20px;">
                        <a class="waves-effect waves-light btn-large loginBtn">SignUp</a>
                    </div>
                    <!--Button End -->

                    <!-- Button at the bottom right for Help--> 
                    <div class="go-btn" style="position: fixed; bottom: 20px; left: 20px;">
                        <a class="waves-effect waves-light btn-large ">Help</a>
                    </div>
                    <!--Button End -->

                </div>
            </div>        

        </div>
        <!-- End of Brain Section -->    




    </body>
</html>
